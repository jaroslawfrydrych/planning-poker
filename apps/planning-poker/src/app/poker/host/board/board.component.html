<planning-poker-table [players$]="players$"
                      [gameState$]="gameState$"></planning-poker-table>

<div class="sidebar">
  <header class="sidebar-header">
    <h1>ROOM ID:</h1>
    <h2 haxit-text-fixed-width>{{roomNumber$ | async}}</h2>

    <haxit-text-fixed-width class="clock"
                                     [value]="currentTime$ | async | date:'HH:mm'">
    </haxit-text-fixed-width>
  </header>

  <footer class="sidebar-footer">
    <button haxit-button
            class="toggle-game-state"
            [buttonColor]="buttonColors.PRIMARY"
            [ngSwitch]="gameState$ | async"
            (click)="toggleGameState()">
      <ng-container *ngSwitchCase="gameStates.REVIEW">New voting</ng-container>
      <ng-container *ngSwitchDefault>Finish Voting</ng-container>
    </button>

    <button haxit-button
            [buttonColor]="buttonColors.SECONDARY"
            (click)="copyToClipboardRoomLink()"
            [ngSwitch]="linkCopied$ | async">
      <ng-container *ngSwitchDefault>Get room link</ng-container>
      <ng-container *ngSwitchCase="true">Link copied</ng-container>
    </button>

    <button haxit-button
            [buttonColor]="buttonColors.INACTIVE"
            (click)="closeRoom()">
      <ng-container>Close room</ng-container>
    </button>
  </footer>
</div>

<div class="modal-container"
     *ngIf="leaveModalVisibility$ | async">
  <div class="modal-overlay"></div>
  <div class="modal-content">
    <p>
      Are you sure to end this session?
    </p>
    <footer class="modal-footer">
      <button haxit-button
              [buttonColor]="buttonColors.ACCENT"
              (click)="leaveModalAction(true)">
        YES
      </button>
      <button haxit-button
              [buttonColor]="buttonColors.ACCENT"
              (click)="leaveModalAction(false)">
        NO
      </button>
    </footer>
  </div>
</div>
